(this["webpackJsonpsearch-app"]=this["webpackJsonpsearch-app"]||[]).push([[0],{36:function(e,t,a){e.exports=a(77)},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),u=a.n(c),o=a(5),l=a(1),i=a(29),s=a(15),m=Object(o.c)({images:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_IMAGES_ON_SEARCH":return t.payload.data.results;case"GET_IMAGES_ON_SCROLL":return[].concat(Object(s.a)(e),Object(s.a)(t.payload.data.results));default:return e}},query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_QUERY":return t.payload;default:return e}},searchTerm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SEARCH_TERM":return t.payload;default:return e}},scrollLoads:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SCROLL_LOADS":return t.payload;default:return e}},perLoad:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IMAGES_NO_PER_SCROLL_LOAD":return t.payload.per_load;default:return e}},isModalOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_MODAL":return!0;case"CLOSE_MODAL":return!1;default:return e}},modalImage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MODAL_IMAGE":return t.payload;default:return e}}}),p=function(){return r.a.createElement("a",{href:"/imagery",className:"formTitle"},"imagery.")},d=function(e){return{type:"SET_QUERY",payload:e}},f=Object(l.b)((function(e){return{query:e.query}}),{setQuery:d})((function(e){var t=e.query,a=e.setQuery;return r.a.createElement("div",{className:"formInputContainer"},r.a.createElement("input",{className:"formInput",type:"text",spellCheck:"false",placeholder:"Search stock photos",value:t,onChange:function(e){return a(e.target.value)}}),r.a.createElement("button",{type:"submit",className:"searchIcon",onClick:function(e){return e.target.parentElement.blur()}},r.a.createElement("i",{className:"fas fa-search"})))})),E=a(2),h=a.n(E),g=a(4),y=a(30),O=a.n(y).a.create({baseURL:"https://api.unsplash.com/",headers:{Authorization:"Client-ID ".concat("Zd5MIEmI9A3mvb3rEQlTgfm_iPBTQlVFjdYtf7n2nTY")}}),v=function(){return function(){var e=Object(g.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/search/photos",{params:{query:a().query||a().searchTerm,per_page:a().perLoad,page:a().scrollLoads+1}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{type:"UPDATE_SCROLL_LOADS",payload:e}},b=Object(l.b)((function(e){return{query:e.query}}),{getImagesOnSearch:function(){return function(){var e=Object(g.a)(h.a.mark((function e(t,a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(v());case 2:return n=e.sent,e.next=5,t({type:"SET_SEARCH_TERM",payload:a().query});case 5:return e.next=7,t(d(""));case 7:return e.next=9,t({type:"GET_IMAGES_ON_SEARCH",payload:n});case 9:t(_(1));case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}})((function(e){var t=e.getImagesOnSearch,a=e.query;return r.a.createElement("header",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),e.target.querySelector("input").blur(),a&&t()},className:"searchForm"},r.a.createElement(p,null),r.a.createElement(f,null)))})),S=a(31),L=a(32),I=a.n(L),C=a(33),M=a.n(C),A=a(35),w=function(e){return{type:"SET_MODAL_IMAGE",payload:e}},T=Object(l.b)((function(e){return{modalImage:e.modalImage}}),{openModal:function(e){return function(){var t=Object(g.a)(h.a.mark((function t(a,n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(w(e));case 2:a({type:"OPEN_MODAL",payload:n().modalImage});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}})((function(e){var t=e.image,a=e.opacityDelay,c=e.openModal,u=Object(n.useState)(!1),o=Object(A.a)(u,2),l=o[0],i=o[1];return Object(n.useEffect)((function(){setTimeout((function(){i(!0)}),a)}),[a]),r.a.createElement("div",{className:"imageCard".concat(l?"":" hidden"),onClick:function(){c(t)}},r.a.createElement("img",{src:t&&t.urls.regular,alt:""}))})),j=Object(l.b)((function(e){return{images:e.images,modalImage:e.modalImage}}),{getImagesOnScroll:function(){return function(){var e=Object(g.a)(h.a.mark((function e(t,a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(v());case 2:return n=e.sent,e.next=5,t({type:"GET_IMAGES_ON_SCROLL",payload:n});case 5:t(_(a().scrollLoads+1));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}})((function(e){var t=e.images,a=e.getImagesOnScroll;Object(n.useEffect)((function(){var e=document.querySelector(".imageCardContainer");M()(e,(function(){return new I.a(e,{itemSelector:".imageCard",columnWidth:".imageCardSizer",percentPosition:!0}).layout()}))}));return r.a.createElement("main",{className:"imageCardContainer"},r.a.createElement(S.a,{dataLength:t.length,next:a,scrollThreshold:.8,hasMore:!0,loader:r.a.createElement("div",null)},r.a.createElement("div",{className:"imageCardSizer"}),t.map((function(e,t){return r.a.createElement(T,{key:e.id,opacityDelay:100+20*t,image:e})}))))})),N=a(14),R=a.n(N),x=Object(l.b)((function(e){return{modalImage:e.modalImage}}))((function(e){var t=e.modalImage;return r.a.createElement("img",{src:t&&t.urls.raw,alt:""})})),D=a(34),q=Object(l.b)((function(e){return{}}),{})((function(e){e.direction;return r.a.createElement("i",null)})),k=Object(l.b)((function(e){return{}}),{})((function(e){return Object(D.a)(e),r.a.createElement("div",null,r.a.createElement(q,{direction:"left",className:"arrowLeft"}),r.a.createElement(q,{direction:"right",className:"arrowRight"}))}));R.a.setAppElement("#root");var G=Object(l.b)((function(e){return{isModalOpen:e.isModalOpen,image:e.modalImage}}),{closeModal:function(){return function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(w(null));case 2:t({type:"CLOSE_MODAL"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.closeModal,a=e.isModalOpen;e.image;return r.a.createElement(R.a,{isOpen:a,onRequestClose:t,className:"Modal",overlayClassName:"Overlay"},r.a.createElement(x,null),r.a.createElement(k,null))})),P=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,Q=Object(o.e)(m,P(Object(o.a)(i.a))),U=function(){return r.a.createElement(l.a,{store:Q},r.a.createElement("div",{className:"App container"},r.a.createElement(b,null),r.a.createElement(j,null),r.a.createElement(G,null)))},H=document.getElementById("root");u.a.render(r.a.createElement(U,null),H)}},[[36,1,2]]]);
//# sourceMappingURL=main.2d733ef4.chunk.js.map