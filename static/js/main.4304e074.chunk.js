(this["webpackJsonpsearch-app"]=this["webpackJsonpsearch-app"]||[]).push([[0],{35:function(e,a,t){e.exports=t(76)},76:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(5),o=t.n(c),l=t(3),u=t(1),s=t(29),i=t(15),m=Object(l.c)({images:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_IMAGES_ON_SEARCH":return console.log(a.payload),a.payload.data.results;case"FETCH_IMAGES_ON_SCROLL":return console.log(a.payload),[].concat(Object(i.a)(e),Object(i.a)(a.payload.data.results));default:return e}},query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_QUERY":return console.log(a.payload),a.payload;default:return e}},scrollLoads:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_SCROLL_LOADS":return e+1;default:return e}},perLoad:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_IMAGES_NO_PER_SCROLL_LOAD":return a.payload.per_load;default:return e}},isModalOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"OPEN_MODAL":return!0;case"CLOSE_MODAL":return!1;default:return e}},modalImage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_MODAL_IMAGE":return a.payload;default:return e}}}),d=function(){return r.a.createElement("a",{href:"/imagery",className:"formTitle"},"imagery.")},p=Object(u.b)((function(e){return{query:e.query}}),{setQuery:function(e){return{type:"SET_QUERY",payload:e}}})((function(e){var a=e.query,t=e.setQuery;return r.a.createElement("div",{className:"formInputContainer"},r.a.createElement("input",{className:"formInput",type:"text",spellCheck:"false",placeholder:"Search stock photos",value:a,onChange:function(e){return t(e.target.value)}}),r.a.createElement("button",{type:"submit",className:"searchIcon"},r.a.createElement("i",{className:"fas fa-search"})))})),f=t(4),E=t.n(f),g=t(6),h=t(30),O=t.n(h).a.create({baseURL:"https://api.unsplash.com/",headers:{Authorization:"Client-ID ".concat("Zd5MIEmI9A3mvb3rEQlTgfm_iPBTQlVFjdYtf7n2nTY")}}),y=function(){return function(){var e=Object(g.a)(E.a.mark((function e(a,t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/search/photos",{params:{query:t().query,per_page:t().perLoad,page:t().scrollLoads+1}});case 2:return n=e.sent,e.next=5,a({type:"SET_SCROLL_LOADS"});case 5:a({type:t().scrollLoads?"FETCH_IMAGES_ON_SCROLL":"FETCH_IMAGES_ON_SEARCH",payload:n});case 6:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()},v=Object(u.b)(null,{fetchImages:y})((function(e){var a=e.fetchImages;return r.a.createElement("header",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a()},className:"searchForm"},r.a.createElement(d,null),r.a.createElement(p,null)))})),_=t(31),S=t(32),b=t.n(S),C=t(33),I=t.n(C),L=t(34),M=function(e){return{type:"SET_MODAL_IMAGE",payload:e}},A=Object(u.b)((function(e){return{modalImage:e.modalImage}}),{openModal:function(e){return function(){var a=Object(g.a)(E.a.mark((function a(t,n){return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t(M(e));case 2:t({type:"OPEN_MODAL",payload:n().modalImage});case 3:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}})((function(e){var a=e.image,t=e.opacityDelay,c=e.openModal,o=Object(n.useState)(!1),l=Object(L.a)(o,2),u=l[0],s=l[1];Object(n.useEffect)((function(){i()}),[]);var i=function(){setTimeout((function(){s(!0)}),t)};return r.a.createElement("div",{className:"imageCard".concat(u?"":" hidden"),onClick:function(){c(a)}},r.a.createElement("img",{src:a.urls.regular,alt:""}))})),N=Object(u.b)((function(e){return{images:e.images,modalImage:e.modalImage}}),{fetchImages:y})((function(e){var a=e.images,t=e.fetchImages;Object(n.useEffect)((function(){var e=document.querySelector(".imageCardContainer");I()(e,(function(){return new b.a(e,{itemSelector:".imageCard",columnWidth:".imageCardSizer",percentPosition:!0}).layout()}))}));return r.a.createElement("main",{className:"imageCardContainer"},r.a.createElement(_.a,{dataLength:a.length,next:t,scrollThreshold:.8,hasMore:!0,loader:r.a.createElement("div",null)},r.a.createElement("div",{className:"imageCardSizer"}),a.map((function(e,a){return r.a.createElement(A,{key:e.id,opacityDelay:100+20*a,image:e})}))))})),T=t(14),j=t.n(T),w=Object(u.b)((function(e){return{modalImage:e.modalImage}}))((function(e){var a=e.modalImage;return r.a.createElement("img",{src:a.urls.raw,alt:""})}));j.a.setAppElement("#root");var D=Object(u.b)((function(e){return{isModalOpen:e.isModalOpen,image:e.modalImage}}),{closeModal:function(e){return{type:"CLOSE_MODAL",payload:e}}})((function(e){var a=e.closeModal,t=e.isModalOpen;e.image;return r.a.createElement(j.a,{isOpen:t,onRequestClose:a,className:"Modal",overlayClassName:"Overlay"},r.a.createElement(w,null))})),R=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,k=Object(l.e)(m,R(Object(l.a)(s.a))),q=function(){return r.a.createElement(u.a,{store:k},r.a.createElement("div",{className:"App container"},r.a.createElement(v,null),r.a.createElement(N,null),r.a.createElement(D,null)))},x=document.getElementById("root");o.a.render(r.a.createElement(q,null),x)}},[[35,1,2]]]);
//# sourceMappingURL=main.4304e074.chunk.js.map