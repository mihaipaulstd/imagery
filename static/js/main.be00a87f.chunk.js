(this["webpackJsonpsearch-app"]=this["webpackJsonpsearch-app"]||[]).push([[0],{24:function(e,t,a){e.exports=a(50)},50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(19),s=a.n(i),c=a(3),o=a(4),u=a(6),l=a(5),h=a(1),m=a(7),d=a(20),b=function(e){function t(e){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).call(this,e))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("h2",{className:"formTitle"},"Search images")}}]),t}(n.Component),p=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={term:""},a.onInputChange=a.onInputChange.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"onInputChange",value:function(e){this.setState({term:e.target.value}),this.props.onChange(e.target.value)}},{key:"render",value:function(){return r.a.createElement("input",{className:"formInput",type:"text",spellCheck:"false",value:this.state.term,onChange:this.onInputChange})}}]),t}(n.Component),f=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={term:""},a.onInputChange=a.onInputChange.bind(Object(h.a)(a)),a.onFormSubmit=a.onFormSubmit.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"onInputChange",value:function(e){this.setState({term:e})}},{key:"onFormSubmit",value:function(e){e.preventDefault(),this.props.onSubmit(this.state.term)}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.onFormSubmit,className:"searchForm"},r.a.createElement(b,null),r.a.createElement(p,{onChange:this.onInputChange}))}}]),t}(n.Component),g=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={hidden:!0,blurred:!0},a.imageRef=r.a.createRef(),a.show=a.show.bind(Object(h.a)(a)),a.hide=a.hide.bind(Object(h.a)(a)),a.focus=a.focus.bind(Object(h.a)(a)),a.blur=a.blur.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.show()}),this.props.opacityDelay),setTimeout((function(){e.focus()}),this.props.blurDelay)}},{key:"show",value:function(){this.setState({hidden:!1})}},{key:"hide",value:function(){this.setState({hidden:!0})}},{key:"focus",value:function(){this.setState({blurred:!1})}},{key:"blur",value:function(){this.setState({blurred:!0})}},{key:"render",value:function(){return r.a.createElement("div",{className:"imageCard ".concat(this.state.hidden?"hidden":""," ").concat(this.state.blurred?"blurred":"")},r.a.createElement("img",{src:this.props.src,ref:this.imageRef}))}}]),t}(n.Component),O=a(21),v=a.n(O).a.create({baseURL:"https://api.pexels.com/",headers:{Authorization:[{name:"pexels",key:"563492ad6f91700001000001cc1c1c42d7d749968d5bbb920ad21688"}].find((function(e){return"pexels"==e.name})).key}}),j=a(22),y=a.n(j),S=a(23),C=a.n(S),k=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).state={per_load:30,loads:1,images:[],currentTerm:null},e.submitHandler=e.submitHandler.bind(Object(h.a)(e)),e.fetchImagesOnScroll=e.fetchImagesOnScroll.bind(Object(h.a)(e)),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){var e=document.querySelector(".imageContainer");C()(e,(function(){return new y.a(e,{itemSelector:".imageCard",columnWidth:".imageCardSizer",percentPosition:!0}).layout()}))}},{key:"submitHandler",value:function(e){var t=this;v.get("/v1/search",{params:{query:e,per_page:this.state.per_load,page:this.state.loads}}).then((function(a){t.setState({images:a.data.photos,currentTerm:e})}))}},{key:"fetchImagesOnScroll",value:function(){var e=this;v.get("/v1/search",{params:{query:this.state.currentTerm,per_page:this.state.per_load,page:this.state.loads+1}}).then((function(t){e.setState({images:e.state.images.concat(t.data.photos),loads:e.state.loads+1})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"app container"},r.a.createElement(f,{onSubmit:this.submitHandler}),r.a.createElement(d.a,{className:"imageContainer",dataLength:this.state.images.length,next:this.fetchImagesOnScroll,scrollThreshold:.7,hasMore:!0,loader:r.a.createElement("div",null)},r.a.createElement("div",{className:"imageCardSizer"}),this.state.images.map((function(e,t){return r.a.createElement(g,{key:e.id,opacityDelay:75*t,src:e.src.large2x})}))))}}]),t}(n.Component),E=document.getElementById("root");s.a.render(r.a.createElement(k,null),E)}},[[24,1,2]]]);
//# sourceMappingURL=main.be00a87f.chunk.js.map