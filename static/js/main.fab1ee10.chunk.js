(this["webpackJsonpsearch-app"]=this["webpackJsonpsearch-app"]||[]).push([[0],{31:function(e,t,a){e.exports=a(68)},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),s=a.n(o),c=a(13),i=a(3),l=a(4),u=a(6),h=a(5),m=a(1),d=a(7),p=a(27),g=a(28),b=a.n(g),f=a(29),v=a.n(f),O=a(12),j=a.n(O),y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={hidden:!0,blurred:!0},a.imageRef=r.a.createRef(),a.show=a.show.bind(Object(m.a)(a)),a.triggerModal=a.triggerModal.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.show()}),this.props.opacityDelay),this.imageRef.current.addEventListener("click",this.triggerModal)}},{key:"show",value:function(){this.setState({hidden:!1})}},{key:"triggerModal",value:function(){this.props.triggerModal({image:this.props.image})}},{key:"render",value:function(){return r.a.createElement("div",{className:"imageCard ".concat(this.state.hidden?"hidden":"")},r.a.createElement("img",{src:this.props.src,ref:this.imageRef,alt:""}))}}]),t}(n.Component),C=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("a",{href:"/",className:"formTitle"},"imagery.")}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={term:""},a.onInputChange=a.onInputChange.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"onInputChange",value:function(e){this.setState({term:e.target.value}),this.props.onChange(e.target.value)}},{key:"render",value:function(){return r.a.createElement("input",{className:"formInput",type:"text",spellCheck:"false",placeholder:"Search stock photos",value:this.state.term,onChange:this.onInputChange,autoFocus:!0})}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={term:""},a.onInputChange=a.onInputChange.bind(Object(m.a)(a)),a.onFormSubmit=a.onFormSubmit.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"onInputChange",value:function(e){this.setState({term:e})}},{key:"onFormSubmit",value:function(e){e.preventDefault(),e.target.querySelector("input").blur(),this.props.onSubmit(this.state.term)}},{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("form",{onSubmit:this.onFormSubmit,className:"searchForm"},r.a.createElement(C,null),r.a.createElement(k,{onChange:this.onInputChange})))}}]),t}(n.Component),S=a(30),E=a.n(S).a.create({baseURL:"https://api.pexels.com/",headers:{Authorization:"563492ad6f91700001000001cc1c1c42d7d749968d5bbb920ad21688"}});j.a.setAppElement("#root");var I=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).state={per_load:20,loads:0,images:[],currentImage:{},currentTerm:null,showModal:!1},e.fetchImages=e.fetchImages.bind(Object(m.a)(e)),e.handleOpenModal=e.handleOpenModal.bind(Object(m.a)(e)),e.handleCloseModal=e.handleCloseModal.bind(Object(m.a)(e)),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchImages()}},{key:"componentDidUpdate",value:function(){var e=document.querySelector(".imageContainer");v()(e,(function(){return new b.a(e,{itemSelector:".imageCard",columnWidth:".imageCardSizer",percentPosition:!0}).layout()}))}},{key:"fetchImages",value:function(e){var t=this,a=e||this.state.currentTerm;E.get(a?"/v1/search":"/v1/curated",{params:{query:a||"",per_page:this.state.per_load,page:this.state.loads+1}}).then((function(n){t.setState({images:e||!t.state.loads?n.data.photos:[].concat(Object(c.a)(t.state.images),Object(c.a)(n.data.photos)),loads:t.state.loads+1,currentTerm:a})})).catch((function(e){}))}},{key:"handleOpenModal",value:function(e){var t=e.image;this.setState({showModal:!0,currentImage:t}),document.querySelector(".Overlay").classList.toggle("backdropBlurred")}},{key:"handleCloseModal",value:function(){this.setState({showModal:!1}),document.querySelector(".Overlay").classList.toggle("backdropBlurred")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App container"},r.a.createElement(M,{onSubmit:this.fetchImages}),r.a.createElement(p.a,{className:"imageContainer",dataLength:this.state.images.length,next:this.fetchImages,scrollThreshold:.8,hasMore:!0,loader:r.a.createElement("div",null)},r.a.createElement("div",{className:"imageCardSizer"}),this.state.images.map((function(t,a){return r.a.createElement(y,{key:t.id,opacityDelay:15*a,src:t.src.large,image:t,triggerModal:e.handleOpenModal})})),r.a.createElement(j.a,{isOpen:this.state.showModal,contentLabel:"onRequestClose",onRequestClose:this.handleCloseModal,className:"Modal",overlayClassName:"Overlay"},r.a.createElement("img",{src:void 0!==this.state.currentImage.src?this.state.currentImage.src.large2x:"",alt:""}))))}}]),t}(n.Component),w=document.getElementById("root");s.a.render(r.a.createElement(I,null),w)}},[[31,1,2]]]);
//# sourceMappingURL=main.fab1ee10.chunk.js.map