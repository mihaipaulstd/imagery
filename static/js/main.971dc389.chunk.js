(this["webpackJsonpsearch-app"]=this["webpackJsonpsearch-app"]||[]).push([[0],{31:function(e,t,a){e.exports=a(68)},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),s=a.n(c),i=a(14),o=a(2),l=a(3),u=a(5),m=a(4),h=a(1),p=a(6),d=a(8),b=a.n(d),f=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("a",{href:"/imagery",className:"formTitle"},"imagery.")}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={term:""},a.onInputChange=a.onInputChange.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"onInputChange",value:function(e){this.setState({term:e.target.value}),this.props.onChange(e.target.value)}},{key:"render",value:function(){return r.a.createElement("div",{className:"formInputContainer"},r.a.createElement("input",{className:"formInput",type:"text",spellCheck:"false",placeholder:"Search stock photos",value:this.state.term,onChange:this.onInputChange}),r.a.createElement("button",{type:"submit",className:"searchIcon"},r.a.createElement("i",{className:"fas fa-search"})))}}]),t}(n.Component),g=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={term:""},a.onInputChange=a.onInputChange.bind(Object(h.a)(a)),a.onFormSubmit=a.onFormSubmit.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"onInputChange",value:function(e){this.setState({term:e})}},{key:"onFormSubmit",value:function(e){e.preventDefault(),e.target.querySelector("input").blur(),this.props.onSubmit(this.state.term)}},{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("form",{onSubmit:this.onFormSubmit,className:"searchForm"},r.a.createElement(f,null),r.a.createElement(O,{onChange:this.onInputChange})))}}]),t}(n.Component),j=a(28),v=a(29),C=a.n(v),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={isOpaque:!1,image:void 0},a.imageRef=r.a.createRef(),a.setSelf=a.setSelf.bind(Object(h.a)(a)),a.setOpaque=a.setOpaque.bind(Object(h.a)(a)),a.onClick=a.onClick.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setSelf(),this.setOpaque(),this.onClick()}},{key:"setSelf",value:function(){this.setState({image:this.props.image})}},{key:"setOpaque",value:function(){var e=this;setTimeout((function(){e.setState({isOpaque:!0})}),this.props.opacityDelay)}},{key:"onClick",value:function(){var e=this;this.imageRef.current.addEventListener("click",(function(){e.props.handleImagesOnClick(e.state.image)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"imageCard".concat(this.state.isOpaque?"":" hidden")},r.a.createElement("img",{src:this.props.image.src.large,ref:this.imageRef,alt:""}))}}]),t}(n.Component),k=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){var e=document.querySelector(".imageCardContainer");b()(e,(function(){return new C.a(e,{itemSelector:".imageCard",columnWidth:".imageCardSizer",percentPosition:!0}).layout()}))}},{key:"render",value:function(){var e=this;return r.a.createElement("main",{className:"imageCardContainer"},r.a.createElement(j.a,{dataLength:this.props.dataLength,next:this.props.scrollFetchHandler,scrollThreshold:.8,hasMore:!0,loader:r.a.createElement("div",null)},r.a.createElement("div",{className:"imageCardSizer"}),this.props.images.map((function(t,a){return r.a.createElement(y,{key:t.id,opacityDelay:15*a,src:t.src.large,image:t,handleImagesOnClick:e.props.handleImagesOnClick})}))))}}]),t}(n.Component),E=a(13),S=a.n(E),I=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("img",{src:this.props.src,alt:""})}}]),t}(n.Component);S.a.setAppElement("#root");var q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={isOpen:!1,image:void 0},a.open=a.open.bind(Object(h.a)(a)),a.close=a.close.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"open",value:function(e){this.setState({isOpen:!0,image:e})}},{key:"close",value:function(){this.setState({isOpen:!1})}},{key:"render",value:function(){return r.a.createElement(S.a,{isOpen:this.state.isOpen,contentLabel:"onRequestClose",onRequestClose:this.close,className:"Modal",overlayClassName:"Overlay".concat(this.state.isOpen?" backdropBlurred":"")},r.a.createElement(I,{src:this.state.image?this.state.image.src.large2x:"",alt:""}))}}]),t}(n.Component),N=a(30),M=["563492ad6f9170000100000172b1e86d0afa4b77a6fa2a3c6f452460","563492ad6f91700001000001cc1c1c42d7d749968d5bbb920ad21688","563492ad6f917000010000017a1d9c70c748417ea6e670fb840a0958"],R=a.n(N).a.create({baseURL:"https://api.pexels.com/",headers:{Authorization:M[2]}}),F=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={per_load:20,loads:Math.floor(300*Math.random()),images:[],currentTerm:null},a.modal=r.a.createRef(),a.fetchImages=a.fetchImages.bind(Object(h.a)(a)),a.openModal=a.openModal.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchImages()}},{key:"fetchImages",value:function(e){var t=this,a=e||this.state.currentTerm;R.get(a?"/v1/search":"/v1/curated",{params:{query:a||"",per_page:this.state.per_load,page:this.state.loads+1}}).then((function(n){b()(document.querySelector(".imageCardContainer"),(function(){t.setState({images:e||0===t.state.loads?n.data.photos:[].concat(Object(i.a)(t.state.images),Object(i.a)(n.data.photos)),loads:n.data.photos.length?t.state.loads+1:0,currentTerm:a})}))})).catch((function(e){}))}},{key:"openModal",value:function(e){this.modal.current.open(e)}},{key:"render",value:function(){return r.a.createElement("div",{className:"App container"},r.a.createElement(g,{onSubmit:this.fetchImages}),r.a.createElement(k,{dataLength:this.state.images.length,scrollFetchHandler:this.fetchImages,images:this.state.images,handleImagesOnClick:this.openModal}),r.a.createElement(q,{ref:this.modal}))}}]),t}(n.Component),D=document.getElementById("root");s.a.render(r.a.createElement(F,null),D)}},[[31,1,2]]]);
//# sourceMappingURL=main.971dc389.chunk.js.map