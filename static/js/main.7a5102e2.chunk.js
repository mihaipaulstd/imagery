(this["webpackJsonpsearch-app"]=this["webpackJsonpsearch-app"]||[]).push([[0],{35:function(e,a,t){e.exports=t(76)},76:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(5),o=t.n(c),l=t(3),u=t(1),i=t(29),s=t(15),m=Object(l.c)({images:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_IMAGES_ON_SEARCH":return console.log(a.payload),a.payload.data.photos;case"FETCH_IMAGES_ON_SCROLL":return console.log(a.payload),[].concat(Object(s.a)(e),Object(s.a)(a.payload.data.photos));default:return e}},query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_QUERY":return console.log(a.payload),a.payload;default:return e}},scrollLoads:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_SCROLL_LOADS":return e+1;default:return e}},perLoad:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_IMAGES_NO_PER_SCROLL_LOAD":return a.payload.per_load;default:return e}},isModalOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"OPEN_MODAL":return!0;case"CLOSE_MODAL":return!1;default:return e}},modalImage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_MODAL_IMAGE":return a.payload;default:return e}}}),d=function(){return r.a.createElement("a",{href:"/imagery",className:"formTitle"},"imagery.")},p=Object(u.b)((function(e){return{query:e.query}}),{setQuery:function(e){return{type:"SET_QUERY",payload:e}}})((function(e){var a=e.query,t=e.setQuery;return r.a.createElement("div",{className:"formInputContainer"},r.a.createElement("input",{className:"formInput",type:"text",spellCheck:"false",placeholder:"Search stock photos",value:a,onChange:function(e){return t(e.target.value)}}),r.a.createElement("button",{type:"submit",className:"searchIcon"},r.a.createElement("i",{className:"fas fa-search"})))})),f=t(4),E=t.n(f),g=t(6),h=t(30),O=["563492ad6f9170000100000172b1e86d0afa4b77a6fa2a3c6f452460","563492ad6f91700001000001cc1c1c42d7d749968d5bbb920ad21688","563492ad6f917000010000017a1d9c70c748417ea6e670fb840a0958"],y=t.n(h).a.create({baseURL:"https://api.pexels.com/",headers:{Authorization:O[0]}}),v=function(){return function(){var e=Object(g.a)(E.a.mark((function e(a,t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/v1/search",{params:{query:t().query,per_page:t().perLoad,page:t().scrollLoads+1}});case 2:return n=e.sent,e.next=5,a({type:"SET_SCROLL_LOADS"});case 5:a({type:t().scrollLoads?"FETCH_IMAGES_ON_SCROLL":"FETCH_IMAGES_ON_SEARCH",payload:n});case 6:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()},_=Object(u.b)(null,{fetchImages:v})((function(e){var a=e.fetchImages;return r.a.createElement("header",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a()},className:"searchForm"},r.a.createElement(d,null),r.a.createElement(p,null)))})),b=t(31),S=t(32),L=t.n(S),C=t(33),I=t.n(C),M=t(34),A=function(e){return{type:"SET_MODAL_IMAGE",payload:e}},N=Object(u.b)((function(e){return{modalImage:e.modalImage}}),{openModal:function(e){return function(){var a=Object(g.a)(E.a.mark((function a(t,n){return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t(A(e));case 2:t({type:"OPEN_MODAL",payload:n().modalImage});case 3:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}})((function(e){var a=e.image,t=e.opacityDelay,c=e.openModal,o=Object(n.useState)(!1),l=Object(M.a)(o,2),u=l[0],i=l[1];Object(n.useEffect)((function(){s()}),[]);var s=function(){setTimeout((function(){i(!0)}),t)};return r.a.createElement("div",{className:"imageCard".concat(u?"":" hidden"),onClick:function(){c(a)}},r.a.createElement("img",{src:a.src.large,alt:""}))})),j=Object(u.b)((function(e){return{images:e.images,modalImage:e.modalImage}}),{fetchImages:v})((function(e){var a=e.images,t=e.fetchImages;Object(n.useEffect)((function(){var e=document.querySelector(".imageCardContainer");I()(e,(function(){return new L.a(e,{itemSelector:".imageCard",columnWidth:".imageCardSizer",percentPosition:!0}).layout()}))}));return r.a.createElement("main",{className:"imageCardContainer"},r.a.createElement(b.a,{dataLength:a.length,next:t,scrollThreshold:.8,hasMore:!0,loader:r.a.createElement("div",null)},r.a.createElement("div",{className:"imageCardSizer"}),a.map((function(e,a){return r.a.createElement(N,{key:e.id,opacityDelay:15*a,image:e})}))))})),T=t(14),w=t.n(T),D=Object(u.b)((function(e){return{modalImage:e.modalImage}}))((function(e){var a=e.modalImage;return r.a.createElement("img",{src:a.src.original,alt:""})}));w.a.setAppElement("#root");var R=Object(u.b)((function(e){return{isModalOpen:e.isModalOpen,image:e.modalImage}}),{closeModal:function(e){return{type:"CLOSE_MODAL",payload:e}}})((function(e){var a=e.closeModal,t=e.isModalOpen;e.image;return r.a.createElement(w.a,{isOpen:t,onRequestClose:a,className:"Modal",overlayClassName:"Overlay"},r.a.createElement(D,null))})),x=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,k=Object(l.e)(m,x(Object(l.a)(i.a))),q=function(){return r.a.createElement(u.a,{store:k},r.a.createElement("div",{className:"App container"},r.a.createElement(_,null),r.a.createElement(j,null),r.a.createElement(R,null)))},G=document.getElementById("root");o.a.render(r.a.createElement(q,null),G)}},[[35,1,2]]]);
//# sourceMappingURL=main.7a5102e2.chunk.js.map