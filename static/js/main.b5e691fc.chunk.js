(this["webpackJsonpsearch-app"]=this["webpackJsonpsearch-app"]||[]).push([[0],{33:function(e,t,a){e.exports=a(71)},71:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(11),s=a.n(r),i=a(14),o=a(2),l=a(3),u=a(5),m=a(4),h=a(1),p=a(6),d=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("a",{href:"/",className:"formTitle"},"imagery.")}}]),t}(n.Component),b=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={term:""},a.onInputChange=a.onInputChange.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"onInputChange",value:function(e){this.setState({term:e.target.value}),this.props.onChange(e.target.value)}},{key:"render",value:function(){return c.a.createElement("div",{className:"formInputContainer"},c.a.createElement("input",{className:"formInput",type:"text",spellCheck:"false",placeholder:"Search stock photos",value:this.state.term,onChange:this.onInputChange}),c.a.createElement("button",{type:"submit",className:"searchIcon"},c.a.createElement("i",{className:"fas fa-search"})))}}]),t}(n.Component),f=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={term:""},a.onInputChange=a.onInputChange.bind(Object(h.a)(a)),a.onFormSubmit=a.onFormSubmit.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"onInputChange",value:function(e){this.setState({term:e})}},{key:"onFormSubmit",value:function(e){e.preventDefault(),e.target.querySelector("input").blur(),this.props.onSubmit(this.state.term)}},{key:"render",value:function(){return c.a.createElement("header",null,c.a.createElement("form",{onSubmit:this.onFormSubmit,className:"searchForm"},c.a.createElement(d,null),c.a.createElement(b,{onChange:this.onInputChange})))}}]),t}(n.Component),O=a(28),g=a(29),j=a.n(g),v=a(30),C=a.n(v),y=a(12),k=a.n(y),E=a(31),S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={isOpaque:!1,image:{}},a.imageRef=c.a.createRef(),a.setSelf=a.setSelf.bind(Object(h.a)(a)),a.setOpaque=a.setOpaque.bind(Object(h.a)(a)),a.onClick=a.onClick.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setSelf(),this.setOpaque(),this.onClick()}},{key:"setSelf",value:function(){this.setState({image:this.props.image})}},{key:"setOpaque",value:function(){var e=this;setTimeout(Object(E.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({isOpaque:!0});case 1:case"end":return t.stop()}}),t)}))),this.props.opacityDelay)}},{key:"onClick",value:function(){var e=this;this.imageRef.current.addEventListener("click",(function(){e.props.handleImagesOnClick(e.state.image)}))}},{key:"render",value:function(){return c.a.createElement("div",{className:"imageCard".concat(this.state.isOpaque?"":" hidden")},c.a.createElement("img",{src:this.props.image.src.large,ref:this.imageRef,alt:""}))}}]),t}(n.Component),I=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){var e=document.querySelector(".imageCardContainer");C()(e,(function(){return new j.a(e,{itemSelector:".imageCard",columnWidth:".imageCardSizer",percentPosition:!0}).layout()}))}},{key:"render",value:function(){var e=this;return c.a.createElement("main",{className:"imageCardContainer"},c.a.createElement(O.a,{dataLength:this.props.dataLength,next:this.props.scrollFetchHandler,scrollThreshold:.8,hasMore:!0,loader:c.a.createElement("div",null)},c.a.createElement("div",{className:"imageCardSizer"}),this.props.images.map((function(t,a){return c.a.createElement(S,{key:t.id,opacityDelay:15*a,src:t.src.large,image:t,handleImagesOnClick:e.props.handleImagesOnClick})}))))}}]),t}(n.Component),q=a(13),N=a.n(q),M=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("img",{src:this.props.src,alt:""})}}]),t}(n.Component);N.a.setAppElement("#root");var R=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={isOpen:!1,image:void 0},a.open=a.open.bind(Object(h.a)(a)),a.close=a.close.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"open",value:function(e){this.setState({isOpen:!0,image:e})}},{key:"close",value:function(){this.setState({isOpen:!1})}},{key:"render",value:function(){return c.a.createElement(N.a,{isOpen:this.state.isOpen,contentLabel:"onRequestClose",onRequestClose:this.close,className:"Modal",overlayClassName:"Overlay".concat(this.state.isOpen?" backdropBlurred":"")},c.a.createElement(M,{src:this.state.image?this.state.image.src.large2x:"",alt:""}))}}]),t}(n.Component),F=a(32),x=["563492ad6f9170000100000172b1e86d0afa4b77a6fa2a3c6f452460","563492ad6f91700001000001cc1c1c42d7d749968d5bbb920ad21688","563492ad6f917000010000017a1d9c70c748417ea6e670fb840a0958"],D=a.n(F).a.create({baseURL:"https://api.pexels.com/",headers:{Authorization:x[0]}}),L=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={per_load:20,loads:0,images:[],currentTerm:null},a.modal=c.a.createRef(),a.fetchImages=a.fetchImages.bind(Object(h.a)(a)),a.openModal=a.openModal.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchImages()}},{key:"fetchImages",value:function(e){var t=this,a=e||this.state.currentTerm;D.get(a?"/v1/search":"/v1/curated",{params:{query:a||"",per_page:this.state.per_load,page:this.state.loads+1}}).then((function(n){t.setState({images:e||!t.state.loads?n.data.photos:[].concat(Object(i.a)(t.state.images),Object(i.a)(n.data.photos)),loads:t.state.loads+1,currentTerm:a})})).catch((function(e){}))}},{key:"openModal",value:function(e){this.modal.current.open(e)}},{key:"render",value:function(){return c.a.createElement("div",{className:"App container"},c.a.createElement(f,{onSubmit:this.fetchImages}),c.a.createElement(I,{dataLength:this.state.images.length,scrollFetchHandler:this.fetchImages,images:this.state.images,handleImagesOnClick:this.openModal}),c.a.createElement(R,{ref:this.modal}))}}]),t}(n.Component),T=document.getElementById("root");s.a.render(c.a.createElement(L,null),T)}},[[33,1,2]]]);
//# sourceMappingURL=main.b5e691fc.chunk.js.map